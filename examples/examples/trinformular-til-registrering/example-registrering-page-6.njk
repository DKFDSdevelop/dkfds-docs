{% from "components/icons/icons--svg.njk" import icon_svg as icon_svg %}
{% from "components/modal/modal.njk" import modal as modal %}
{%- from "components/header/header.njk" import portal_header as portal_header -%}
{%- from "components/header/header.njk" import solution_header as solution_header -%}
{% from "components/footers/footer.njk" import footer as footer %}

{% from "components/side-navigation/stepguide.njk" import overflow_stepguide as overflow_stepguide %}
{% from "components/buttons/buttons.njk" import button as button %}
{% from "components/table/table.njk" import table as table %}

{% block header %}
<header class="header">
    <div id="top"></div>
    <a href="#main-content" class="skipnav">Gå til sidens indhold</a>
    {{ portal_header(portal_header_data) }}
    
    {% set authorityText = 
      'Support: 12 34 56 78 <span class="d-print-none">· <a href="javascript:void(0);" data-module="modal" data-target="modal-contact" class="function-link d-inline-block">' + icon_svg({"name": "card-text"}) + 'Kontakt</a></span>'
    %}
    {{ 
      solution_header({
        "lastHeader": true,
        "title": {
          "href": "#",
          "text": "Registrer et eller andet"
        },
        "solutionInfo": {
          "hideOnPrint": true
        },
        "authority": {
          "name": "Myndighedsnavn",
          "text": authorityText
        }
      }) 
    }}

    <div class="overlay"></div>
    <nav class="nav">
        <!-- collapsible-->
        <button class="function-link button-menu-close js-menu-close"
            title="Luk mobil menu">{{icon_svg({"name":"close"})}}Luk</button>

        <div class="portal-info-mobile">
            <p class="user"><span class="weight-semibold">Anders Andersen</span><br />Forsikringens Forsikringsfirma</p>

            <a href="#" class="button button-secondary button-signout">
                Log af
            </a>
        </div>

        <div class="solution-info-mobile">
            <p class="bold">Myndighedsnavn</p>
            <p>Support: 12 34 56 78 <br><a href="javascript:void(0);" data-module="modal" data-target="modal-contact"
                    class="function-link d-inline-block"><svg class="icon-svg" aria-hidden="true">
                        <use xlink:href="#card-text"></use>
                    </svg>Kontakt</a></p>
        </div>

        <div class="navbar">
            <div class="navbar-inner navbar-context-actions container">
                <div class="nav-actions">
                    <a href="#" class="function-link">{{icon_svg({"name": "save"})}}Gem kladde</a>
                </div>
            </div>
        </div>
    </nav> <!-- collapsible nav end-->
</header>
{% endblock %}

{% block body %}
<div class="container page-container pt-5 pt-lg-0">
    <div class="row">
        <aside class="col-12 col-lg-3 sidebar-col">
            {{ overflow_stepguide(trinindikator_data) }}
        </aside>
        <main class="col-12 col-lg-9" id="main-content">
            <div><a href="/pages/eksempler/trinformular-til-registrering/registrering-5/" class="back-link">Tilbage</a>
            </div>
            <h1 class="mb-6">Opsummering</h1>

            <h2>Vælg personer</h2>
            {{ 
                table({
                    "tableClasses": "w-percent-md-70 d-print-table",
                    "borderless": true,
                    "responsive": true,
                    "thead": [
                        { "headerContent": "Person" },
                        { "headerContent": "CPR-nummer" },
                        { "td": true, "classes": "d-print-none" }
                    ],
                    "tbody": [
                        [
                            { "content": "Jens Jensen" },
                            { "content": "123456-7890" },
                            { "classes": "align-text-md-right d-print-none" }
                        ],
                        [
                            { "content": "Keld Hedagaardsen" },
                            { "content": "230495-1111" },
                            { "content": "<a href=\"/pages/eksempler/trinformular-til-registrering/registrering-1/\">Redigér</a>", "classes": "align-text-md-right d-print-none" }
                        ],
                        [
                            { "content": "Anni Hedagaardsen" },
                            { "content": "120394-2222" },
                            { "content": "<a href=\"/pages/eksempler/trinformular-til-registrering/registrering-1/\">Redigér</a>", "classes": "align-text-md-right d-print-none" }
                        ]
                    ]
                })
            }}

            <h2>Vælg noget mere</h2>
            {{ 
                table({
                    "tableClasses": "w-percent-md-70 d-print-table",
                    "borderless": true,
                    "responsive": true,
                    "thead": [
                        { "headerContent": "Nummer" },
                        { "headerContent": "Dato" },
                        { "headerContent": "Information" },
                        { "td": true, "classes": "d-print-none" }
                    ],
                    "tbody": [
                        [
                            { "content": "123456789" },
                            { "content": "01.01.2021" },
                            { "content": "Lorem ipsum dolor sit" },
                            { "content": "<a href=\"/pages/eksempler/trinformular-til-registrering/registrering-2/\">Redigér</a>", "classes": "align-text-md-right d-print-none" }
                        ],
                        [
                            { "content": "123456789" },
                            { "content": "01.01.2021" },
                            { "content": "Lorem ipsum dolor sit" },
                            { "content": "<a href=\"/pages/eksempler/trinformular-til-registrering/registrering-2/\">Redigér</a>", "classes": "align-text-md-right d-print-none" }
                        ]
                    ]
                })
            }}

            <h2>Vedhæft dokumenter</h2>
            {% set exampleDocumentLink1 = '<a href="#" class="function-link">' + icon_svg({"name": 'file-pdf'}) + 'Journal.pdf</a>' %}
            {% set exampleDocumentLink2 = '<a href="#" class="function-link">' + icon_svg({"name": 'file-pdf'}) + 'Kopi-af-dokument-x.pdf</a>' %}
            {{ 
                table({
                    "tableClasses": "w-percent-md-70 d-print-table",
                    "borderless": true,
                    "responsive": true,
                    "thead": [
                        { "headerContent": "Vedhæftet dokument" },
                        { "td": true, "classes": "d-print-none" }
                    ],
                    "tbody": [
                        [
                            { "content": exampleDocumentLink1 },
                            { "content": "<a href=\"/pages/eksempler/trinformular-til-registrering/registrering-3/\">Redigér</a>", "classes": "align-text-md-right d-print-none" }
                        ],
                        [
                            { "content": exampleDocumentLink2 },
                            { "content": "<a href=\"/pages/eksempler/trinformular-til-registrering/registrering-3/\">Redigér</a>", "classes": "align-text-md-right d-print-none" }
                        ]
                    ]
                })
            }}

            <h2>Tidligere registrering</h2>
            <div class="w-percent-md-70 mt-6 mb-7">
                {% for row in tidligere_registrering %}
                <div class="row row-bordered no-gutters">
                    <div class="col-12 col-md-8 weight-semibold">
                        {{ row.label }}
                    </div>
                    <div class="col-12 col-md-2">
                        {{ row.value }}
                    </div>
                    <div class="col-12 col-md-2 align-text-md-right">
                        <a href="{{ row.href }}">Redigér<span class="sr-only"> {{row.label | lower }}</span></a>
                    </div>
                </div>
                {% endfor %}
            </div>

            <h2>Kontaktoplysninger</h2>
            <div class="w-percent-md-70 mt-6 mb-7">
                {% for row in kontaktoplysninger %}
                <div class="row row-bordered no-gutters">
                    <div class="col-12 col-md-4 weight-semibold">
                        {{ row.label }}
                    </div>
                    <div class="col-12 col-md-6">
                        {{ row.value }}
                    </div>
                    <div class="col-12 col-md-2 align-text-md-right">
                        <a href="{{ row.href }}">Redigér<span class="sr-only"> {{row.label | lower }}</span></a>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <form novalidate method="post" action="/pages/eksempler/trinformular-til-registrering/registrering-7/">
                <input type="hidden" name="entries-confirmed" value="true">
                {{ button(button_next) }}
            </form>
        </main>
    </div>
</div>
{% endblock %}

{% block banner -%}
{% endblock %}

{% block footer -%}
{{ footer(footer_data) }}
{% endblock %}

{{ modal(modal_data) }}