{% from "components/tabs/tabs.njk" import tabs as tabs %}

{% set tab_list = {
    "items": [
        {
            "active": true,
            "button": {
                "text": "Indhold 1",
                "id": "tab1"
            },
            "panel":{
                "id": "tabpanel1",
                "content": "<h2>Indhold 1</h2><p>Mauris tempor, tellus a laoreet finibus, neque metus hendrerit augue, ac lacinia nisl dolor et augue. Ut lorem massa, consequat ut orci sit amet, maximus dictum orci. Mauris pharetra nunc sed augue bibendum semper. Donec in cursus orci. Ut sed posuere elit, quis semper turpis. Curabitur malesuada nisi nec nisl facilisis ornare. Praesent vestibulum, velit id sollicitudin auctor, ipsum lacus auctor nisl, in lacinia sem massa eget urna.</p>"
            }
        },
        {
            "button": {
                "text": "Indhold 2",
                "id": "tab2"
            },
            "panel":{
                "id": "tabpanel2",
                "content": "<h2>Indhold 2</h2><p>Mauris tempor, tellus a laoreet finibus, neque metus hendrerit augue, ac lacinia nisl dolor et augue. Ut lorem massa, consequat ut orci sit amet, maximus dictum orci. Mauris pharetra nunc sed augue bibendum semper. Donec in cursus orci. Ut sed posuere elit, quis semper turpis. Curabitur malesuada nisi nec nisl facilisis ornare. Praesent vestibulum, velit id sollicitudin auctor, ipsum lacus auctor nisl, in lacinia sem massa eget urna.</p>"
            }
        },
        {
            "button": {
                "text": "Indhold 3",
                "id": "tab3"
            },
            "panel":{
                "id": "tabpanel3",
                "content": "<h2>Indhold 3</h2><p>Mauris tempor, tellus a laoreet finibus, neque metus hendrerit augue, ac lacinia nisl dolor et augue. Ut lorem massa, consequat ut orci sit amet, maximus dictum orci. Mauris pharetra nunc sed augue bibendum semper. Donec in cursus orci. Ut sed posuere elit, quis semper turpis. Curabitur malesuada nisi nec nisl facilisis ornare. Praesent vestibulum, velit id sollicitudin auctor, ipsum lacus auctor nisl, in lacinia sem massa eget urna.</p>"
            }
        }
    ]
} %}

<main class="container page-container" id="main-content">
    <div class="row">
        <div class="col-12">
            {{ tabs(tab_list) }}
        </div>
    </div>
</main>

<script>
    document.addEventListener("DOMContentLoaded", function() {

        let tabContainer = document.getElementsByClassName("tab-container")[0];

        tabContainer.addEventListener("fds.tab.changed", function() {
            console.log("The tabcontainer has changed");
        });

        let tabs = tabContainer.getElementsByClassName("tab-button");

        for(let i=0; i<tabs.length; i++) {
            let number = i+1;
            tabs[i].addEventListener("fds.tab.open", function() {
                console.log("Tab " + number + " was opened");
            }); 
            tabs[i].addEventListener("fds.tab.close", function() {
                console.log("Tab " + number + " was closed");
            });
        }
    });
</script>